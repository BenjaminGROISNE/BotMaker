/* General styles for both light and dark themes */
.root {
    -fx-font-family: "Inter", sans-serif;

    /* Block Color Variables */
    -fx-if-block-background: #FF8C00;
    -fx-if-block-border: #D2691E;

    -fx-binary-expression-block-background: #B060D0;
    -fx-binary-expression-block-border: #9040E0;

    -fx-identifier-block-background: #A9A9A9;
    -fx-identifier-block-border: #696969;

    -fx-literal-block-background: #FF80C0;
    -fx-literal-block-border: #C03090;

    -fx-print-block-background: #3090E0;
    -fx-print-block-border: #2020C0;

    -fx-variable-declaration-block-background: #50C050;
    -fx-variable-declaration-block-border: #408040;

    -fx-if-body-background: #FFB34D;
    -fx-main-body-background: #B20000;

    -fx-declare-int-block-background: #4682B4; /* SteelBlue */
    -fx-declare-int-block-border: #4169E1; /* RoyalBlue */

    -fx-declare-double-block-background: #20B2AA; /* LightSeaGreen */
    -fx-declare-double-block-border: #008B8B; /* DarkCyan */

    -fx-declare-boolean-block-background: #9370DB; /* MediumPurple */
    -fx-declare-boolean-block-border: #8A2BE2; /* BlueViolet */

    -fx-declare-string-block-background: #DAA520; /* GoldenRod */
    -fx-declare-string-block-border: #B8860B; /* DarkGoldenRod */
}

.button {
    -fx-background-color: #e0e0e0;
    -fx-text-fill: black;
    -fx-background-radius: 4;
    -fx-font-weight: bold;
}

.button:hover {
    -fx-background-color: #d0d0d0;
}

.text-area {
    -fx-background-color: #ffffff;
    -fx-text-fill: black;
    -fx-border-color: #cccccc;
    -fx-border-radius: 4;
    -fx-font-weight: bold;
}

.scroll-pane {
    -fx-background-color: transparent;
}

.label {
    -fx-text-fill: black;
    -fx-font-weight: bold;
}

/* Light Theme */
.light-theme {
    -fx-background-color: #f4f4f4;
}

.light-theme .button {
    -fx-background-color: #e0e0e0;
    -fx-text-fill: black;
}

.light-theme .button:hover {
    -fx-background-color: #d0d0d0;
}

.light-theme .text-area {
    -fx-background-color: #ffffff;
    -fx-text-fill: black;
    -fx-border-color: #cccccc;
}

.light-theme .label {
    -fx-text-fill: black;
}

.light-theme #status-label {
    -fx-text-fill: #333333;
}

.light-theme .palette {
    -fx-background-color: #e8e8e8; /* Slightly lighter for distinction */
    -fx-border-color: #bbbbbb;
    -fx-border-width: 0 0 1 0;
}

.light-theme .palette-block-label {
    -fx-border-width: 1;
    -fx-border-radius: 4;
    -fx-background-radius: 4;
    -fx-padding: 6 10;
    -fx-text-fill: black;
    -fx-font-weight: bold;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 1); /* Subtle shadow */
}

.light-theme .palette-block-label:hover {
    -fx-border-width: 2px;
    -fx-padding: 5px 9px;
}

/* Specific palette label colors (matching block colors) */
.light-theme .palette-if-label {
    -fx-background-color: -fx-if-block-background;
    -fx-border-color: -fx-if-block-border;
}
.light-theme .palette-binaryexpression-label {
    -fx-background-color: -fx-binary-expression-block-background;
    -fx-border-color: -fx-binary-expression-block-border;
}
.light-theme .palette-identifier-label {
    -fx-background-color: -fx-identifier-block-background;
    -fx-border-color: -fx-identifier-block-border;
}
.light-theme .palette-literal-label {
    -fx-background-color: -fx-literal-block-background;
    -fx-border-color: -fx-literal-block-border;
}
.light-theme .palette-print-label {
    -fx-background-color: -fx-print-block-background;
    -fx-border-color: -fx-print-block-border;
}
.light-theme .palette-variable_declaration-label {
    -fx-background-color: -fx-variable-declaration-block-background;
    -fx-border-color: -fx-variable-declaration-block-border;
}
.light-theme .palette-declare_int-label {
    -fx-background-color: -fx-declare-int-block-background;
    -fx-border-color: -fx-declare-int-block-border;
}
.light-theme .palette-declare_double-label {
    -fx-background-color: -fx-declare-double-block-background;
    -fx-border-color: -fx-declare-double-block-border;
}
.light-theme .palette-declare_boolean-label {
    -fx-background-color: -fx-declare-boolean-block-background;
    -fx-border-color: -fx-declare-boolean-block-border;
}
.light-theme .palette-declare_string-label {
    -fx-background-color: -fx-declare-string-block-background;
    -fx-border-color: -fx-declare-string-block-border;
}


/* Block Styles (apply to both themes by default) */
.if-block {
    -fx-background-color: -fx-if-block-background;
    -fx-border-color: -fx-if-block-border;
    -fx-padding: 5;
    -fx-background-radius: 5;
    -fx-border-radius: 5;
    -fx-border-width: 1px;
}

.if-block:hover {
    -fx-border-width: 2px;
    -fx-padding: 4px;
}

.binary-expression-block {
    -fx-background-color: -fx-binary-expression-block-background;
    -fx-border-color: -fx-binary-expression-block-border;
    -fx-padding: 5;
    -fx-background-radius: 5;
    -fx-border-radius: 5;
    -fx-border-width: 1px;
}

.binary-expression-block:hover {
    -fx-border-width: 2px;
    -fx-padding: 4px;
}

.identifier-block {
    -fx-background-color: -fx-identifier-block-background;
    -fx-border-color: -fx-identifier-block-border;
    -fx-padding: 5;
    -fx-background-radius: 5;
    -fx-border-radius: 5;
    -fx-border-width: 1px;
}

.identifier-block:hover {
    -fx-border-width: 2px;
    -fx-padding: 4px;
}

.literal-block {
    -fx-background-color: -fx-literal-block-background;
    -fx-border-color: -fx-literal-block-border;
    -fx-padding: 5;
    -fx-background-radius: 5;
    -fx-border-radius: 5;
    -fx-border-width: 1px;
}

.literal-block:hover {
    -fx-border-width: 2px;
    -fx-padding: 4px;
}

.print-block {
    -fx-background-color: -fx-print-block-background;
    -fx-border-color: -fx-print-block-border;
    -fx-padding: 5;
    -fx-background-radius: 5;
    -fx-border-radius: 5;
    -fx-border-width: 1px;
}

.print-block:hover {
    -fx-border-width: 2px;
    -fx-padding: 4px;
}

.variable-declaration-block {
    -fx-background-color: -fx-variable-declaration-block-background;
    -fx-border-color: -fx-variable-declaration-block-border;
    -fx-padding: 5;
    -fx-background-radius: 5;
    -fx-border-radius: 5;
    -fx-border-width: 1px;
}

.variable-declaration-block:hover {
    -fx-border-width: 2px;
    -fx-padding: 4px;
}

/* Dark Theme specific overrides */
.dark-theme {
    -fx-background-color: #2b2b2b;
}

.dark-theme .button {
    -fx-background-color: #555555;
    -fx-text-fill: white;
}

.dark-theme .button:hover {
    -fx-background-color: #666666;
}

.dark-theme .text-area {
    -fx-background-color: #3c3f41;
    -fx-text-fill: #bbbbbb;
    -fx-border-color: #555555;
}

.dark-theme .text-area .content {
    -fx-background-color: #3c3f41;
}

.dark-theme .label {
    -fx-text-fill: white;
}

.dark-theme #status-label {
    -fx-text-fill: #aaaaaa;
}

.dark-theme .scroll-pane {
    -fx-background-color: #2b2b2b;
}

.dark-theme .palette {
    -fx-background-color: #222222 !important; /* Darker background for distinction */
    -fx-border-color: #444444;
    -fx-border-width: 0 0 1 0;
}

.dark-theme .palette-block-label {
    -fx-border-width: 1;
    -fx-border-radius: 4;
    -fx-background-radius: 4;
    -fx-padding: 6 10;
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 5, 0, 0, 1); /* Subtle shadow */
}

.dark-theme .palette-block-label:hover {
    -fx-border-width: 2px;
    -fx-padding: 5px 9px;
}

/* Specific palette label colors (matching block colors) */
.dark-theme .palette-if-label {
    -fx-background-color: -fx-if-block-background;
    -fx-border-color: -fx-if-block-border;
}
.dark-theme .palette-binaryexpression-label {
    -fx-background-color: -fx-binary-expression-block-background;
    -fx-border-color: -fx-binary-expression-block-border;
}
.dark-theme .palette-identifier-label {
    -fx-background-color: -fx-identifier-block-background;
    -fx-border-color: -fx-identifier-block-border;
}
.dark-theme .palette-literal-label {
    -fx-background-color: -fx-literal-block-background;
    -fx-border-color: -fx-literal-block-border;
}
.dark-theme .palette-print-label {
    -fx-background-color: -fx-print-block-background;
    -fx-border-color: -fx-print-block-border;
}
.dark-theme .palette-variable_declaration-label {
    -fx-background-color: -fx-variable-declaration-block-background;
    -fx-border-color: -fx-variable-declaration-block-border;
}
.dark-theme .palette-declare_int-label {
    -fx-background-color: -fx-declare-int-block-background;
    -fx-border-color: -fx-declare-int-block-border;
}
.dark-theme .palette-declare_double-label {
    -fx-background-color: -fx-declare-double-block-background;
    -fx-border-color: -fx-declare-double-block-border;
}
.dark-theme .palette-declare_boolean-label {
    -fx-background-color: -fx-declare-boolean-block-background;
    -fx-border-color: -fx-declare-boolean-block-border;
}
.dark-theme .palette-declare_string-label {
    -fx-background-color: -fx-declare-string-block-background;
    -fx-border-color: -fx-declare-string-block-border;
}

/* Block Text Bolder and Bigger & Always Black */
/* General text within blocks */
.if-block .label,
.binary-expression-block .label,
.identifier-block .text,
.literal-block .text-field,
.print-block .text,
.variable-declaration-block .text,
.main-block-header {
    -fx-font-size: 1.1em; /* Slightly bigger */
    -fx-font-weight: bold; /* Bolder */
    -fx-text-fill: black; /* Always black */
}

/* Override for dark theme labels that are NOT inside blocks (e.g., status label) */
.dark-theme .label {
    -fx-text-fill: white;
}

/* Ensure text fields in literal blocks are black in light theme */
.light-theme .literal-block .text-field {
    -fx-text-fill: black;
}

/* Literal Block TextField in Dark Theme */
.dark-theme .literal-block .text-field {
    -fx-background-color: #4e4e4e; /* Darker background for TextField */
    -fx-text-fill: white; /* Changed to white */
    -fx-prompt-text-fill: #aaaaaa; /* Slightly darker for prompt text */
    -fx-highlight-fill: #007bff; /* Highlight color */
    -fx-highlight-text-fill: white;
    -fx-control-inner-background: #4e4e4e; /* For the actual editable area */
}

/* Body Block Separator */
.body-block-separator {
    -fx-min-height: 8;
    -fx-background-color: transparent; /* Light theme default */
}

.body-block {
    -fx-padding: 5px;
    -fx-background-radius: 5px;
}

.if-body {
    -fx-background-color: -fx-if-body-background !important;
}

.main-block .body-block {
    -fx-background-color: -fx-main-body-background;
}

.body-block.empty-body-drop-hover {
    -fx-background-color: yellow;
}

.dark-theme .body-block-separator {
    -fx-background-color: #444444; /* Dark gray for dark theme */
}

/* Main Block Styles */
.main-block {
    -fx-background-color: #8B0000;
    -fx-border-color: #B22222;
    -fx-border-width: 1;
    -fx-border-radius: 5;
    -fx-background-radius: 5;
}

.main-block-header {
    -fx-font-weight: bold;
    -fx-text-fill: black; /* Light theme default */
}

.dark-theme .main-block {
    -fx-background-color: #8B0000;
    -fx-border-color: #B22222;
}

.dark-theme .main-block-header {
    -fx-text-fill: #bbbbbb;
}

/* Context Menu Dark Theme */
.dark-theme .context-menu {
    -fx-background-color: #444;
    -fx-border-color: #666;
    -fx-border-width: 1px;
}

.dark-theme .menu-item .label {
    -fx-text-fill: white;
}

.dark-theme .menu-item:focused {
    -fx-background-color: #555;
}

.dark-theme .menu-item:focused .label {
    -fx-text-fill: white;
}

/* Block Text Color and Font Weight Override for Dark Theme */
.dark-theme .if-block .label,
.dark-theme .binary-expression-block .label,
.dark-theme .identifier-block .text,
.dark-theme .print-block .text,
.dark-theme .variable-declaration-block .text,
.dark-theme .main-block-header {
    -fx-text-fill: black;
    -fx-font-weight: bold;
}

.error-block {
    -fx-border-color: red !important;
    -fx-border-width: 2px !important;
    -fx-border-style: dashed !important;
}

/* Style for the blinking effect on an error block */
.error-block-blink {
    -fx-border-color: #FF0000 !important; /* Bright solid red */
    -fx-border-width: 3px !important;
    -fx-border-style: solid !important;
    -fx-effect: dropshadow(gaussian, #FF4444, 10, 0.5, 0, 0);
}

/* Highlighted block for Debugging */
.highlighted {
    -fx-border-color: #32CD32 !important; /* Lime Green */
    -fx-border-width: 3px !important;
    -fx-border-style: solid !important;
    -fx-effect: dropshadow(gaussian, #32CD32, 15, 0.6, 0, 0);
    -fx-background-insets: 0 0 -1 0, 0, 1, 2;
}

/* Styles for the new Error List View */
.error-cell {
    -fx-text-fill: #D32F2F; /* Red text for errors */
    -fx-font-weight: bold;
}

.warning-cell {
    -fx-text-fill: #FBC02D; /* Amber text for warnings */
}

.error-cell:selected, .warning-cell:selected {
    -fx-background-color: -fx-selection-bar;
    -fx-text-fill: -fx-selection-bar-text;
}

/* Interactive Type Label */
.type-label {
    -fx-background-color: #FFD700; /* Gold/Yellow */
    -fx-text-fill: #333333; /* Dark gray text */
    -fx-font-weight: bold;
    -fx-padding: 3 7 3 7;
    -fx-border-radius: 4;
    -fx-background-radius: 4;
    -fx-border-color: #FFA500; /* Orange border */
    -fx-border-width: 2; /* Thicker border */
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 3, 0, 0, 1); /* Subtle shadow always */
}

.type-label:hover {
    -fx-background-color: #FFC107; /* Slightly darker yellow on hover */
    -fx-border-color: #FF8C00; /* Darker orange on hover */
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 8, 0, 0, 1); /* More pronounced shadow on hover */
}

.dark-theme .type-label {
    -fx-background-color: #B8860B; /* Dark goldenrod */
    -fx-text-fill: #EEEEEE; /* Light gray text */
    -fx-border-color: #DAA520; /* Goldenrod border */
    -fx-border-width: 2;
    -fx-effect: dropshadow(gaussian, rgba(255,255,0,0.1), 3, 0, 0, 1);
}

.dark-theme .type-label:hover {
    -fx-background-color: #DAA520; /* Goldenrod on hover */
    -fx-border-color: #FFD700; /* Gold on hover */
    -fx-effect: dropshadow(gaussian, rgba(255,255,0,0.3), 8, 0, 0, 1);
}


/* Project Selection Screen */
.list-view {
    -fx-background-color: white;
    -fx-border-color: #cccccc;
    -fx-border-radius: 4;
}

.list-cell {
    -fx-padding: 10;
}

.list-cell:selected {
    -fx-background-color: #007bff;
    -fx-text-fill: white;
}

.list-cell:selected .label {
    -fx-text-fill: white;
}

.dark-theme .list-view {
    -fx-background-color: #3c3f41;
    -fx-border-color: #555555;
}

.dark-theme .list-cell {
    -fx-background-color: #3c3f41;
    -fx-text-fill: white;
}

.dark-theme .list-cell:selected {
    -fx-background-color: #0d6efd;
}

/* Control Flow Blocks */
.while-block, .for-block {
    -fx-background-color: #fff3cd;
    -fx-padding: 8px;
    -fx-border-color: #ffc107;
    -fx-border-width: 2px;
    -fx-border-radius: 5px;
}

.while-header, .for-header {
    -fx-font-weight: bold;
}

.while-body, .for-body {
    -fx-background-color: rgba(255, 255, 255, 0.5);
    -fx-padding: 5px;
}

.break-block, .continue-block {
    -fx-background-color: #f8d7da;
    -fx-padding: 5px;
    -fx-border-color: #dc3545;
    -fx-border-width: 1px;
    -fx-border-radius: 3px;
}

/* Variable Operations */
.assignment-block {
    -fx-background-color: #d1ecf1;
    -fx-padding: 5px;
    -fx-border-color: #17a2b8;
    -fx-border-width: 1px;
    -fx-border-radius: 3px;
}

.increment-decrement-block {
    -fx-background-color: #e2e3e5;
    -fx-padding: 5px;
    -fx-border-color: #6c757d;
    -fx-border-width: 1px;
    -fx-border-radius: 3px;
}

/* Input Blocks */
.read-input-block {
    -fx-background-color: #d4edda;
    -fx-padding: 5px;
    -fx-border-color: #28a745;
    -fx-border-width: 1px;
    -fx-border-radius: 3px;
}

/* Labels */
.keyword-label {
    -fx-font-weight: bold;
    -fx-text-fill: #0066cc;
}

.operator-label {
    -fx-font-weight: bold;
    -fx-text-fill: #cc0066;
}

.method-call-label {
    -fx-text-fill: #6600cc;
    -fx-font-style: italic;
}

.type-label {
    -fx-text-fill: #006600;
    -fx-font-weight: bold;
}